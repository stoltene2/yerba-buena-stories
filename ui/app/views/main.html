<h1 class="title">Yerba Buena Stories</h1>

<div class="login">
  <div ng-show="currentUser">
    <h4 class='welcome'>Welcome {{currentUser.username}}</h4>
  </div>

  <div ng-show="!currentUser">
    <div ng-include src="'views/_user_login.html'"></div>
  </div>
</div>

<div class="clear"></div>
<div ng-show="loginFailed" ng-include src="'views/_user_login_error.html'"></div>

<div ng-controller="StoryCtrl">
  <h1>Add a story</h1>
  <form ng-submit="addStory()">
    <input ng-model="name" required type="text" placeholder="Once upon a time..." />
    <input ng-model="points" required type="number" placeholder="0" />
    <input class="btn btn-primary" type="submit" value="add" />
  </form>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Story</th>
        <th>Points: <span ng-bind="totalPoints()"></span></th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="story in stories">
        <td ng-bind="story.name"></td>
        <td ng-bind="story.points"></td>
      </tr>
    </tbody>
  </table>
</div>
